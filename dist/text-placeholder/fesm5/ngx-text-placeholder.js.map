{"version":3,"file":"ngx-text-placeholder.js.map","sources":["ng://ngx-text-placeholder/lib/text-placeholder.directive.ts","ng://ngx-text-placeholder/lib/text-placeholder.module.ts"],"sourcesContent":["import { Directive, Input, ElementRef, AfterViewInit, Renderer2, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[textPlaceholder]'\n})\nexport class TextPlaceholderDirective implements AfterViewInit {\n\n  private readonly colors = [\n    '#e53935',\n    '#d32f2f',\n    '#c62828',\n    '#b71c1c',\n    '#d81b60',\n    '#c2185b',\n    '#ad1457',\n    '#880e4f',\n    '#8e24aa',\n    '#7b1fa2',\n    '#6a1b9a',\n    '#4a148c',\n    '#5e35b1',\n    '#512da8',\n    '#4527a0',\n    '#311b92',\n    '#3949ab',\n    '#303f9f',\n    '#283593',\n    '#1a237e',\n    '#1e88e5',\n    '#1976d2',\n    '#1565c0',\n    '#0d47a1',\n    '#039be5',\n    '#0288d1',\n    '#0277bd',\n    '#01579b',\n    '#00acc1',\n    '#0097a7',\n    '#00838f',\n    '#006064',\n    '#00897b',\n    '#00796b',\n    '#00695c',\n    '#004d40',\n    '#43a047',\n    '#388e3c',\n    '#2e7d32',\n    '#1b5e20',\n    '#fb8c00',\n    '#f57c00',\n    '#ef6c00',\n    '#e65100',\n    '#f4511e',\n    '#e64a19',\n    '#d84315',\n    '#bf360c',\n    '#6d4c41',\n    '#5d4037',\n    '#4e342e',\n    '#3e2723',\n    '#757575',\n    '#616161',\n    '#424242',\n    '#212121',\n    '#546e7a',\n    '#455a64',\n    '#37474f',\n    '#263238'\n  ];\n\n  @Input()\n  imgSrc: string;\n\n  @Input()\n  textPlaceholder: string;\n\n  @Input()\n  size = 45;\n\n  constructor(\n    private element: ElementRef,\n    private renderer: Renderer2\n  ) { }\n\n  ngAfterViewInit() {\n    if (this.imgSrc) {\n      this.element.nativeElement.src = this.imgSrc;\n    } else {\n      this.applyPlaceholder();\n    }\n  }\n\n  private applyPlaceholder() {\n    // NativeElement, document used\n    // const newElem = document.createElement('p');\n    // newElem.innerHTML = this.generatePlaceholder(this.textPlaceholder);\n    // this.element.nativeElement.parentNode.replaceChild(newElem, this.element.nativeElement);\n\n    const child = this.renderer.createElement('p');\n    child.innerHTML = this.generatePlaceholder(this.textPlaceholder);\n    child.style.display = 'inline-block';\n    child.style.width = this.size + 'px';\n    child.style.height = this.size + 'px';\n    child.style['border-radius'] = '50%';\n    child.style['background-color'] = this.getRandomColor();\n    child.style['line-height'] = this.size + 'px';\n    child.style.color = 'white';\n    child.style['text-align'] = 'center';\n    child.style['font-size'] = (this.size / 2.5) + 'px';\n    child.style['font-family'] = 'Arial, Helvetica, sans-serif';\n    const parent = this.renderer.parentNode(this.element.nativeElement);\n    this.renderer.removeChild(parent, this.element.nativeElement);\n    this.renderer.appendChild(parent, child);\n  }\n\n  private generatePlaceholder(placeholder: string): string {\n    const parts = placeholder.split(' ');\n    if (parts.length > 1) {\n      return (parts[0][0] + parts[1][0]).toUpperCase();\n    } else {\n      if (parts[0].length >= 2) {\n        // two characters\n        return (parts[0][0] + parts[0][1]).toUpperCase();\n      } else {\n        // single character\n        return parts[0][0];\n      }\n    }\n  }\n\n  private getRandomColor(): string {\n    return this.colors[Math.floor(Math.random() * (this.colors.length))];\n  }\n\n  @HostListener('error')\n  onError(event) {\n    this.applyPlaceholder();\n  }\n}\n\n","import { TextPlaceholderDirective } from './text-placeholder.directive';\nimport { NgModule } from '@angular/core';\n\n@NgModule({\n  declarations: [\n    TextPlaceholderDirective\n  ],\n  imports: [\n  ],\n  exports: [\n    TextPlaceholderDirective\n  ]\n})\nexport class TextPlaceholderModule { }\n"],"names":[],"mappings":"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"}
